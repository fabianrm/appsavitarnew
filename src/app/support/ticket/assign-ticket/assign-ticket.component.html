<form ngNativeValidate [formGroup]="formAssign" (ngSubmit)="enviarDatos()">
  <!-- Dialog Header -->
  <h2 mat-dialog-title>
    <mat-icon class="dialog-icon">person_add</mat-icon>
    Asignar Técnico
  </h2>

  <!-- Dialog Content -->
  <mat-dialog-content>
    <div class="form-container">
      <!-- Fecha de Vencimiento -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Fecha de Vencimiento</mat-label>
        <input
          matInput
          [matDatepicker]="pickerDesde"
          formControlName="expiration"
          required
        />
        <mat-datepicker-toggle matIconSuffix [for]="pickerDesde"></mat-datepicker-toggle>
        <mat-datepicker #pickerDesde></mat-datepicker>
        <mat-hint>Seleccione la fecha límite para completar el ticket</mat-hint>
      </mat-form-field>

      <!-- Técnico -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Técnico Responsable</mat-label>
        <mat-select formControlName="technician_id" required>
          @for (user of users; track user.id) {
            <mat-option [value]="user.id">
              {{ user.name }}
            </mat-option>
          }
        </mat-select>
        <mat-icon matPrefix>support_agent</mat-icon>
        <mat-hint>Seleccione el técnico que atenderá este ticket</mat-hint>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <!-- Dialog Actions -->
  <mat-dialog-actions align="end">
    <button
      type="button"
      mat-button
      mat-dialog-close
      (click)="onCancel()"
    >
      <mat-icon>close</mat-icon>
      Cancelar
    </button>
    <button
      type="submit"
      mat-raised-button
      color="primary"
      [disabled]="formAssign.invalid"
    >
      <mat-icon>check</mat-icon>
      Asignar Técnico
    </button>
  </mat-dialog-actions>
</form>
